# Лабораторная работа №1 #

Выполнил: Галюгин Алексей, М8О-103М-20

## Сборка проекта ##

```bash
cmake configure .
cmake .
cmake --build ./
```

## Настройка базы данных ##

1. Для работы с базами данных нужно переключиться в режим mysql
2. Для создания тестового пользователя с именем lab1 и базы данных lab1_Gal с таблицей Person выполняются команды из файла sql_commands/database_creation.sql.
3. Заполнение базы данных сгенерированными записями производится командой sql_commands/database_generation.sql.

Выполнение команды в mysql:

```bash
sudo mysql;
source sql_commands/database_creation.sql;
source sql_commands/database_generation.sql;
```

## Запуск сервера ##

Для запуска сервера следует выполнить команду:

```bash
sudo sh ./start.sh
```

## Тестирование с помощью gtest ##

Запуск тестов осуществляется командой:

```bash
./gtests
```

## Тестирование с помощью wrk ##

Нагрузочное тестирование осуществлялось с помощью команды wrk

```bash
wrk -t 6 -c 50 -d 30s http://localhost:8080/person?login=411-88-7854 
```

Нагрузочное тестирование производилось для 1, 2, 6 и 10 потоков при 50 подключениях в течение 30 секунд. Полученные данные (Requests/sec - количество запросов в секунду, Latency(ms) - задержка в миллисекундах):

Threads | Requests/sec | Latency(ms)
---     | ---          | ---
1       | 355.90       | 45.12
2       | 179.37       | 44.77
6       | 117.66       | 45.48
10      | 87.74        | 45.82
